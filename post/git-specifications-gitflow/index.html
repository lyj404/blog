<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git提交规范和GitFlow | LYJ's Blog</title>
<meta name=keywords content="Git提交规范和GitFlow,Git,GitFlow"><meta name=description content="讲述如何使用 Git 提交规范和 Git Flow 工作流来有效管理代码版本控制。通过遵循标准化的提交信息格式和结构化的分支策略，开发团队可以提高代码的可维护性和协作效率。"><meta name=author content="LYJ"><link rel=canonical href=https://lyj.cloudns.ch/post/git-specifications-gitflow/><link crossorigin=anonymous href=/assets/css/stylesheet.458679ba676f2417ec4aa5319bc5c5bd7ecb799bb2b3a3cf48ddf082127d3d4c.css integrity="sha256-RYZ5umdvJBfsSqUxm8XFvX7LeZuys6PPSN3wghJ9PUw=" rel="preload stylesheet" as=style><link rel=icon href=https://lyj.cloudns.ch/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://lyj.cloudns.ch/favicon.png><link rel=icon type=image/png sizes=32x32 href=https://lyj.cloudns.ch/favicon.png><link rel=apple-touch-icon href=https://lyj.cloudns.ch/favicon.png><link rel=mask-icon href=https://lyj.cloudns.ch/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://lyj.cloudns.ch/post/git-specifications-gitflow/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://lyj.cloudns.ch/post/git-specifications-gitflow/"><meta property="og:site_name" content="LYJ's Blog"><meta property="og:title" content="Git提交规范和GitFlow"><meta property="og:description" content="讲述如何使用 Git 提交规范和 Git Flow 工作流来有效管理代码版本控制。通过遵循标准化的提交信息格式和结构化的分支策略，开发团队可以提高代码的可维护性和协作效率。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-01-06T20:38:40+00:00"><meta property="article:modified_time" content="2025-01-06T20:38:40+00:00"><meta property="article:tag" content="Git"><meta property="og:image" content="https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Git提交规范和GitFlow"><meta name=twitter:description content="讲述如何使用 Git 提交规范和 Git Flow 工作流来有效管理代码版本控制。通过遵循标准化的提交信息格式和结构化的分支策略，开发团队可以提高代码的可维护性和协作效率。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://lyj.cloudns.ch/post/"},{"@type":"ListItem","position":2,"name":"Git提交规范和GitFlow","item":"https://lyj.cloudns.ch/post/git-specifications-gitflow/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git提交规范和GitFlow","name":"Git提交规范和GitFlow","description":"讲述如何使用 Git 提交规范和 Git Flow 工作流来有效管理代码版本控制。通过遵循标准化的提交信息格式和结构化的分支策略，开发团队可以提高代码的可维护性和协作效率。","keywords":["Git提交规范和GitFlow","Git","GitFlow"],"articleBody":"Git提交规范 在使用git 提交代码的时候，由于每个人都有自己的书写风格，导致git log很混乱，不利于阅读和维护，因此形成了一套通用git提交规范。 格式：\n1 type(scope) : subject type是必须项，主要用来描述commit的类别，且只允许使用以下的标示：\nfeat：新功能（feature） 用于提交新功能 例如：feat: 添加用户注册功能 fix：修复bug 用于提交bug修复 例如：fix：修复登录不成功的问题 docs： 用于提交文档相关的修改 例如：docs：更新README style：代码格式改变 用于提交仅格式化、标点符号、空白等不影响代码运行和逻辑的变更 例如：style：删除多余空格 refactor：代码重构 用于提交某个已有功能重构 例如：refactor：重构用户登录功能 perf：性能优化 用于提交提升程序性能的代码修改 例如：perf： 优化首页加载速度 test：测试相关的操作 用于提交测试相关的内容 例如：test：增加用户登录的单元测试 build：用于描述与项目构建系统相关的更改 用于提交与项目构建系统相关的更改 例如：build：jdk8升级JDK17 revert：撤销上次的commit 用于提交撤销的相关操作 例如：revert：撤销登录逻辑的更改 ci：持续集成相关的配置的更改 用于提交CI相关的修改 例如：ci：修改GitHub Action配置 chore：构建过程或辅助工具的更改 用于提交构建过程、辅助工具等相关内容的修改 例如：chore：fastjson升级fastjson2 scoop是可选项，用于说明commit影响的范围，如：controller层、service层、dao层等等。 subject是必须项，主要是对commit进行简短描述，且不能超过50个字符。\n通过工具规范提交 模板文件 创建一个.gitmessage.txt文件，则可自定义git提交模板 例如：\n1 2 reason: resolve: 在模板文件定义之后，还需执行以下命令：\n1 git config --global commit.template /xx/xx/.gitmessage.txt 使用自定义模板提交方式，不使用git commit -m \"xxx\"，而是使用git commit，就会自动调用模板\ncommitizen工具 Commitizen是一个用于帮助我们规范化Git提交信息的工具，它提供了一种交互式的方式来生成符合提交规范的提交信息 安装：\n1 npm install -g commitizen 初始化Commitizen配置：\n1 2 3 4 5 6 7 8 # npm commitizen init cz-conventional-changelog --save-dev --save-exact # yarn commitizen init cz-conventional-changelog --yarn --dev --exact # pnpm commitizen init cz-conventional-changelog --pnpm --save-dev --save-exact 使用方式：git cz\n不是前端项目，则需要在项目中创建package.json文件\nGitFlow GitFlow是一种功能强大的Git分支模型，目的在于帮助团队管理软件开发过程中的复杂性。由于每个组织或个人都有自己的git管理流程，随着时间的发展，在不停的实践中，逐渐形成了一些最佳实践的git管理流程，也就是我们所说的Git分支模型。 常见的分支模型有：\nGit Flow GitHub Flow GitLab Flow TrunkBased One Flow Aone Flow 其中Git Flow是最早诞生、并且得到广泛采用的\nGit Flow是什么？ Git Flow 是一种Git分支管理模型，它定义了一个围绕项目发布的严格分支建立模型。这个分支模型是团队成员需要遵守的代码管理方案，目的是通过规范化的流程，使得产品、开发与测试等各个部门更高效地协同工作。\nGit Flow核心概念 Git Flow的核心是分支管理。它将分支分成两类：主分支和辅助分支。主分支包括master和develop，而辅助分支包含feature、release、和hotfix分支。每种分支都有特定的作用和规则。\nGit Flow常用分支及说明 分支名称 说明 Production 生产分支，即Master分支。只能从其他分支合并，不能直接修改 Release 发布分支，基于Develop分支创建，等发布完成合并到Develop和Production分支去 Develop 主开发分支，包含了所有要发布到下一个Release的代码，该分支主要用于合并其他分支的代码 Feature 新功能分支，基于Develop分支创建，用于开发新功能，等开发完毕将合并到Develop分支 Hotfix 修复分支，基于Production分支创建，在bug修复完毕之后，将合并到Production和Develop分支，同时会在Production分支上打一个tag Git Flow工作流程 Git Flow分支模型的工作流程如下图所示： feature分支属于本地分支，其余的分支均是云端分支，且hotfix和release在将代码合并到master和develop分支之后，将会删除自身\n","wordCount":"1783","inLanguage":"zh","image":"https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-01-06T20:38:40Z","dateModified":"2025-01-06T20:38:40Z","author":{"@type":"Person","name":"LYJ"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lyj.cloudns.ch/post/git-specifications-gitflow/"},"publisher":{"@type":"Organization","name":"LYJ's Blog","logo":{"@type":"ImageObject","url":"https://lyj.cloudns.ch/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lyj.cloudns.ch/ accesskey=h title="Home (Alt + H)"><img src=https://lyj.cloudns.ch/home.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lyj.cloudns.ch/ title="LYJ's Blog"><span>首页</span></a></li><li><a href=https://lyj.cloudns.ch/archives/ title=归档><span>归档</span></a></li><li><a href=https://lyj.cloudns.ch/categories/ title=Categories><span>分类</span></a></li><li><a href=https://lyj.cloudns.ch/tags/ title=Tags><span>标签</span></a></li><li><a href=https://lyj.cloudns.ch/search/ title=搜索><span>搜索</span></a></li><li><a href=https://lyj.cloudns.ch/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lyj.cloudns.ch/>主页</a>&nbsp;»&nbsp;<a href=https://lyj.cloudns.ch/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Git提交规范和GitFlow</h1><div class=post-description>讲述如何使用 Git 提交规范和 Git Flow 工作流来有效管理代码版本控制。通过遵循标准化的提交信息格式和结构化的分支策略，开发团队可以提高代码的可维护性和协作效率。</div><div class=post-meta><span title='2025-01-06 20:38:40 +0000 UTC'>2025-01-06</span>&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;1783 字&nbsp;·&nbsp;LYJ</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#git提交规范>Git提交规范</a><ul><li><a href=#通过工具规范提交>通过工具规范提交</a><ul><li><a href=#模板文件>模板文件</a></li><li><a href=#commitizen工具>commitizen工具</a></li></ul></li></ul></li><li><a href=#gitflow>GitFlow</a><ul><li><a href=#git-flow是什么>Git Flow是什么？</a></li><li><a href=#git-flow核心概念>Git Flow核心概念</a></li><li><a href=#git-flow常用分支及说明>Git Flow常用分支及说明</a></li><li><a href=#git-flow工作流程>Git Flow工作流程</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=git提交规范>Git提交规范<a hidden class=anchor aria-hidden=true href=#git提交规范>#</a></h1><p>在使用<code>git</code> 提交代码的时候，由于每个人都有自己的书写风格，导致<code>git log</code>很混乱，不利于阅读和维护，因此形成了一套通用<code>git</code>提交规范。
<strong>格式：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>type(scope) : subject
</span></span></code></pre></td></tr></table></div></div><p><code>type</code>是必须项，主要用来描述<code>commit</code>的类别，且只允许使用以下的标示：</p><ul><li>feat：新功能（feature）<ul><li>用于提交新功能</li><li>例如：<code>feat: 添加用户注册功能</code></li></ul></li><li>fix：修复bug<ul><li>用于提交bug修复</li><li>例如：<code>fix：修复登录不成功的问题</code></li></ul></li><li>docs：<ul><li>用于提交文档相关的修改</li><li>例如：<code>docs：更新README</code></li></ul></li><li>style：代码格式改变<ul><li>用于提交仅格式化、标点符号、空白等不影响代码运行和逻辑的变更</li><li>例如：<code>style：删除多余空格</code></li></ul></li><li>refactor：代码重构<ul><li>用于提交某个已有功能重构</li><li>例如：<code>refactor：重构用户登录功能</code></li></ul></li><li>perf：性能优化<ul><li>用于提交提升程序性能的代码修改</li><li>例如：<code>perf： 优化首页加载速度</code></li></ul></li><li>test：测试相关的操作<ul><li>用于提交测试相关的内容</li><li>例如：<code>test：增加用户登录的单元测试</code></li></ul></li><li>build：用于描述与项目构建系统相关的更改<ul><li>用于提交与项目构建系统相关的更改</li><li>例如：<code>build：jdk8升级JDK17</code></li></ul></li><li>revert：撤销上次的commit<ul><li>用于提交撤销的相关操作</li><li>例如：<code>revert：撤销登录逻辑的更改</code></li></ul></li><li>ci：持续集成相关的配置的更改<ul><li>用于提交CI相关的修改</li><li>例如：<code>ci：修改GitHub Action配置</code></li></ul></li><li>chore：构建过程或辅助工具的更改<ul><li>用于提交构建过程、辅助工具等相关内容的修改</li><li>例如：<code>chore：fastjson升级fastjson2</code></li></ul></li></ul><p><code>scoop</code>是可选项，用于说明<code>commit</code>影响的范围，如：controller层、service层、dao层等等。
<code>subject</code>是必须项，主要是对<code>commit</code>进行简短描述，且不能超过50个字符。</p><h2 id=通过工具规范提交>通过工具规范提交<a hidden class=anchor aria-hidden=true href=#通过工具规范提交>#</a></h2><h3 id=模板文件>模板文件<a hidden class=anchor aria-hidden=true href=#模板文件>#</a></h3><p>创建一个<code>.gitmessage.txt</code>文件，则可自定义<code>git</code>提交模板
例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>reason: 
</span></span><span class=line><span class=cl>resolve: 
</span></span></code></pre></td></tr></table></div></div><p>在模板文件定义之后，还需执行以下命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git config --global commit.template /xx/xx/.gitmessage.txt
</span></span></code></pre></td></tr></table></div></div><blockquote><p>使用自定义模板提交方式，不使用<code>git commit -m "xxx"</code>，而是使用<code>git commit</code>，就会自动调用模板</p></blockquote><h3 id=commitizen工具>commitizen工具<a hidden class=anchor aria-hidden=true href=#commitizen工具>#</a></h3><p><code>Commitizen</code>是一个用于帮助我们规范化Git提交信息的工具，它提供了一种交互式的方式来生成符合提交规范的提交信息
<strong>安装：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install -g commitizen
</span></span></code></pre></td></tr></table></div></div><p>初始化<code>Commitizen</code>配置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># npm</span>
</span></span><span class=line><span class=cl>commitizen init cz-conventional-changelog --save-dev --save-exact
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># yarn</span>
</span></span><span class=line><span class=cl>commitizen init cz-conventional-changelog --yarn --dev --exact
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pnpm</span>
</span></span><span class=line><span class=cl>commitizen init cz-conventional-changelog --pnpm --save-dev --save-exact
</span></span></code></pre></td></tr></table></div></div><p>使用方式：<code>git cz</code></p><blockquote><p>不是前端项目，则需要在项目中创建<code>package.json</code>文件</p></blockquote><h1 id=gitflow>GitFlow<a hidden class=anchor aria-hidden=true href=#gitflow>#</a></h1><p>GitFlow是一种功能强大的<code>Git分支模型</code>，目的在于帮助团队管理软件开发过程中的复杂性。由于每个组织或个人都有自己的<code>git</code>管理流程，随着时间的发展，在不停的实践中，逐渐形成了一些最佳实践的<code>git</code>管理流程，也就是我们所说的<code>Git分支模型</code>。
<strong>常见的分支模型有：</strong></p><ol><li>Git Flow</li><li>GitHub Flow</li><li>GitLab Flow</li><li>TrunkBased</li><li>One Flow</li><li>Aone Flow</li></ol><blockquote><p>其中Git Flow是最早诞生、并且得到广泛采用的</p></blockquote><h2 id=git-flow是什么>Git Flow是什么？<a hidden class=anchor aria-hidden=true href=#git-flow是什么>#</a></h2><p><strong>Git Flow</strong> 是一种Git分支管理模型，它定义了一个围绕项目发布的严格分支建立模型。这个分支模型是团队成员需要遵守的代码管理方案，目的是通过规范化的流程，使得产品、开发与测试等各个部门更高效地协同工作。</p><h2 id=git-flow核心概念>Git Flow核心概念<a hidden class=anchor aria-hidden=true href=#git-flow核心概念>#</a></h2><p>Git Flow的核心是分支管理。它将分支分成两类：主分支和辅助分支。主分支包括<code>master</code>和<code>develop</code>，而辅助分支包含<code>feature</code>、<code>release</code>、和<code>hotfix</code>分支。每种分支都有特定的作用和规则。</p><h2 id=git-flow常用分支及说明>Git Flow常用分支及说明<a hidden class=anchor aria-hidden=true href=#git-flow常用分支及说明>#</a></h2><table><thead><tr><th>分支名称</th><th>说明</th></tr></thead><tbody><tr><td>Production</td><td>生产分支，即<strong>Master</strong>分支。只能从其他分支合并，不能直接修改</td></tr><tr><td>Release</td><td>发布分支，基于<strong>Develop</strong>分支创建，等发布完成合并到<strong>Develop</strong>和<strong>Production</strong>分支去</td></tr><tr><td>Develop</td><td>主开发分支，包含了所有要发布到下一个<strong>Release</strong>的代码，该分支主要用于合并其他分支的代码</td></tr><tr><td>Feature</td><td>新功能分支，基于<strong>Develop</strong>分支创建，用于开发新功能，等开发完毕将合并到<strong>Develop</strong>分支</td></tr><tr><td>Hotfix</td><td>修复分支，基于<strong>Production</strong>分支创建，在bug修复完毕之后，将合并到<strong>Production</strong>和<strong>Develop</strong>分支，同时会在<strong>Production</strong>分支上打一个tag</td></tr></tbody></table><h2 id=git-flow工作流程>Git Flow工作流程<a hidden class=anchor aria-hidden=true href=#git-flow工作流程>#</a></h2><p><strong>Git Flow分支模型的工作流程如下图所示：</strong>
<a href=https://imgse.com/i/pE9w5c9><img alt=gitflow工作流程.png loading=lazy src=https://s21.ax1x.com/2025/01/06/pE9w5c9.png></a></p><blockquote><p><code>feature</code>分支属于本地分支，其余的分支均是云端分支，且<code>hotfix</code>和<code>release</code>在将代码合并到<code>master</code>和<code>develop</code>分支之后，将会删除自身</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://lyj.cloudns.ch/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://lyj.cloudns.ch/post/using-proxy-in-terminal/><span class=title>« 上一页</span><br><span>终端使用代理</span>
</a><a class=next href=https://lyj.cloudns.ch/post/springboot-use-https/><span class=title>下一页 »</span><br><span>SpringBoot使用HTTPS</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lyj.cloudns.ch/>LYJ's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>