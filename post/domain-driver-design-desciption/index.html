<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>DDD领域驱动设计 | LYJ's Blog</title>
<meta name=keywords content="DDD,领域驱动设计"><meta name=description content="DDD是一种软件设计思想和方法论，以领域为核心构建软件设计体系，将业务模型抽象成领域模型进行拆解和封装。"><meta name=author content="LYJ"><link rel=canonical href=https://lyj.cloudns.ch/post/domain-driver-design-desciption/><link crossorigin=anonymous href=/assets/css/stylesheet.6ac597e8fd3ec87b479e9c23e4cdc2c9aed63cb215e157732cbc8732be5732c1.css integrity="sha256-asWX6P0+yHtHnpwj5M3Cya7WPLIV4VdzLLyHMr5XMsE=" rel="preload stylesheet" as=style><link rel=icon href=https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://lyj.cloudns.ch/post/domain-driver-design-desciption/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://lyj.cloudns.ch/post/domain-driver-design-desciption/"><meta property="og:site_name" content="LYJ's Blog"><meta property="og:title" content="DDD领域驱动设计"><meta property="og:description" content="DDD是一种软件设计思想和方法论，以领域为核心构建软件设计体系，将业务模型抽象成领域模型进行拆解和封装。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-10-08T16:29:12+00:00"><meta property="article:modified_time" content="2023-10-08T16:29:12+00:00"><meta property="article:tag" content="DDD"><meta property="og:image" content="https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="DDD领域驱动设计"><meta name=twitter:description content="DDD是一种软件设计思想和方法论，以领域为核心构建软件设计体系，将业务模型抽象成领域模型进行拆解和封装。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://lyj.cloudns.ch/post/"},{"@type":"ListItem","position":2,"name":"DDD领域驱动设计","item":"https://lyj.cloudns.ch/post/domain-driver-design-desciption/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"DDD领域驱动设计","name":"DDD领域驱动设计","description":"DDD是一种软件设计思想和方法论，以领域为核心构建软件设计体系，将业务模型抽象成领域模型进行拆解和封装。","keywords":["DDD","领域驱动设计"],"articleBody":"Domain Driver Design MVC架构 在mvc架构中，主要划分为三个组件：Model（模型）、View（视图）、Controller（控制器） 传统三层架构模型(MVC) DDD架构 DDD架构主要将应用分成四个层次：\n表现层（Presentation Layer）：负责与用户进行交互，展示数据和接收用户输入。表现层通常包括用户界面、控制器、视图和用户输入验证等组件。 应用层（Application Layer）：负责协调处理用户请求，并将其转化为对领域层的操作。应用层中的服务和命令处理程序执行应用程序逻辑，调用领域层中的领域对象来完成具体的业务处理。应用层还负责事务管理和协调不同领域对象之间的交互。 领域层（Domain Layer）：是整个架构的核心，包含了业务领域的核心概念、业务规则和业务逻辑。领域层由聚合、实体、值对象等领域对象组成，它们封装了业务行为和状态，并通过领域服务之间的交互来完成复杂的业务操作。 基础设施层（Infrastructure Layer）：提供支持上述三个层次的基础设施和技术实现，如数据库访问、消息队列、外部服务和框架等。基础设施层隐藏了底层技术的细节，提供统一的接口供上层调用。 DDD架构模型 COLA COLA架构 Adapter层：负责对前端展示的路由和适配，对应传统的B/S架构来说，adapter相当于之前的controller App层：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理，如果需要的话，发送消息通知等。层次是开放的，应用层也可以绕过领域层，直接访问基础实施层 Domain层：主要是封装了核心业务逻辑，并通过领域服务（Domain Service）和领域对象（Domain Entity）的方法对App层提供业务实体和业务逻辑计算。领域是应用的核心，不依赖任何其他层次； Infrastructure层：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等。此外，领域防腐的重任也落在这里，外部依赖需要通过gateway的转义处理，才能被上面的App层和Domain层使用。 Client层：对外提供的功能API，如果外部模块需要使用本项目功能只需引用 client 中的 API 接口即可实现功能、\nadapter web 处理页面请求的Controller app 业务功能包（user、order）放xxxServiceImpl 业务名 app executor 修改相关的执行逻辑 app query(executor包下) 查询相关的执行逻辑 client api(放xxxService) 存放对外功能的api client dto（data、query） 对外返回的对象及调用方传入的参数对象 domain gateway 防腐层，让 Infrastructure 层实现逻辑 domain 业务功能包（entity、值对象） 根据业务功能分包，包中存放业务实体及值对象 infrastructure convertor 存放将 DO 转化为 entity的类 infrastructure config 存放配置相关 infrastructure gateway.impl 实现 domain 层的 gateway 接口的实现类 infrastructure dataobject 存放数据库对象的DO infrastructure mapper mapper文件 ","wordCount":"78","inLanguage":"zh-cn","image":"https://lyj.cloudns.ch/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-10-08T16:29:12Z","dateModified":"2023-10-08T16:29:12Z","author":{"@type":"Person","name":"LYJ"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lyj.cloudns.ch/post/domain-driver-design-desciption/"},"publisher":{"@type":"Organization","name":"LYJ's Blog","logo":{"@type":"ImageObject","url":"https://lyj.cloudns.ch/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lyj.cloudns.ch/ accesskey=h title="Home (Alt + H)"><img src=https://lyj.cloudns.ch/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lyj.cloudns.ch/ title="LYJ's Blog"><span>首页</span></a></li><li><a href=https://lyj.cloudns.ch/archives/ title=归档><span>归档</span></a></li><li><a href=https://lyj.cloudns.ch/categories/ title=Categories><span>分类</span></a></li><li><a href=https://lyj.cloudns.ch/tags/ title=Tags><span>标签</span></a></li><li><a href=https://lyj.cloudns.ch/search/ title=搜索><span>搜索</span></a></li><li><a href=https://lyj.cloudns.ch/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lyj.cloudns.ch/>Home</a>&nbsp;»&nbsp;<a href=https://lyj.cloudns.ch/post/>Posts</a></div><h1 class="post-title entry-hint-parent">DDD领域驱动设计</h1><div class=post-description>DDD是一种软件设计思想和方法论，以领域为核心构建软件设计体系，将业务模型抽象成领域模型进行拆解和封装。</div><div class=post-meta><span title='2023-10-08 16:29:12 +0000 UTC'>2023-10-08</span>&nbsp;·&nbsp;78 字数&nbsp;·&nbsp;LYJ</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#mvc架构>MVC架构</a></li><li><a href=#ddd架构>DDD架构</a></li></ul><ul><li><ul><li><a href=#cola架构>COLA架构</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=domain-driver-design>Domain Driver Design<a hidden class=anchor aria-hidden=true href=#domain-driver-design>#</a></h1><h2 id=mvc架构>MVC架构<a hidden class=anchor aria-hidden=true href=#mvc架构>#</a></h2><p>在mvc架构中，主要划分为三个组件：Model（模型）、View（视图）、Controller（控制器）
<strong>传统三层架构模型(MVC)</strong> <a href=https://imgse.com/i/pPvQ5vD><img alt=pPvQ5vD.png loading=lazy src=https://z1.ax1x.com/2023/10/08/pPvQ5vD.png></a></p><h2 id=ddd架构>DDD架构<a hidden class=anchor aria-hidden=true href=#ddd架构>#</a></h2><p>DDD架构主要将应用分成四个层次：</p><ol><li>表现层（Presentation Layer）：负责与用户进行交互，展示数据和接收用户输入。表现层通常包括用户界面、控制器、视图和用户输入验证等组件。</li><li>应用层（Application Layer）：负责协调处理用户请求，并将其转化为对领域层的操作。应用层中的服务和命令处理程序执行应用程序逻辑，调用领域层中的领域对象来完成具体的业务处理。应用层还负责事务管理和协调不同领域对象之间的交互。</li><li>领域层（Domain Layer）：是整个架构的核心，包含了业务领域的核心概念、业务规则和业务逻辑。领域层由聚合、实体、值对象等领域对象组成，它们封装了业务行为和状态，并通过领域服务之间的交互来完成复杂的业务操作。</li><li>基础设施层（Infrastructure Layer）：提供支持上述三个层次的基础设施和技术实现，如数据库访问、消息队列、外部服务和框架等。基础设施层隐藏了底层技术的细节，提供统一的接口供上层调用。</li></ol><p><strong>DDD架构模型</strong>
<a href=https://imgse.com/i/pPvQoKe><img alt=pPvQoKe.png loading=lazy src=https://z1.ax1x.com/2023/10/08/pPvQoKe.png></a></p><h1 id=cola>COLA<a hidden class=anchor aria-hidden=true href=#cola>#</a></h1><h3 id=cola架构>COLA架构<a hidden class=anchor aria-hidden=true href=#cola架构>#</a></h3><p><a href=https://imgse.com/i/pPvQv28><img alt=pPvQv28.png loading=lazy src=https://z1.ax1x.com/2023/10/08/pPvQv28.png></a> <a href=https://imgse.com/i/pPvlSKg><img alt=pPvlSKg.png loading=lazy src=https://z1.ax1x.com/2023/10/08/pPvlSKg.png></a>
<strong>Adapter层</strong>：负责对前端展示的路由和适配，对应传统的B/S架构来说，adapter相当于之前的controller <strong>App层</strong>：主要负责获取输入，组装上下文，参数校验，调用领域层做业务处理，如果需要的话，发送消息通知等。层次是开放的，应用层也可以绕过领域层，直接访问基础实施层
<strong>Domain层</strong>：主要是封装了核心业务逻辑，并通过领域服务（Domain Service）和领域对象（Domain Entity）的方法对App层提供业务实体和业务逻辑计算。领域是应用的核心，不依赖任何其他层次； <strong>Infrastructure层</strong>：主要负责技术细节问题的处理，比如数据库的CRUD、搜索引擎、文件系统、分布式服务的RPC等。此外，领域防腐的重任也落在这里，外部依赖需要通过gateway的转义处理，才能被上面的App层和Domain层使用。 <strong>Client层</strong>：对外提供的功能API，如果外部模块需要使用本项目功能只需引用 client 中的 API 接口即可实现功能、</p><table><thead><tr><th>adapter</th><th>web</th><th>处理页面请求的Controller</th></tr></thead><tbody><tr><td>app</td><td>业务功能包（user、order）放xxxServiceImpl</td><td>业务名</td></tr><tr><td>app</td><td>executor</td><td>修改相关的执行逻辑</td></tr><tr><td>app</td><td>query(executor包下)</td><td>查询相关的执行逻辑</td></tr><tr><td>client</td><td>api(放xxxService)</td><td>存放对外功能的api</td></tr><tr><td>client</td><td>dto（data、query）</td><td>对外返回的对象及调用方传入的参数对象</td></tr><tr><td>domain</td><td>gateway</td><td>防腐层，让 Infrastructure 层实现逻辑</td></tr><tr><td>domain</td><td>业务功能包（entity、值对象）</td><td>根据业务功能分包，包中存放业务实体及值对象</td></tr><tr><td>infrastructure</td><td>convertor</td><td>存放将 DO 转化为 entity的类</td></tr><tr><td>infrastructure</td><td>config</td><td>存放配置相关</td></tr><tr><td>infrastructure</td><td>gateway.impl</td><td>实现 domain 层的 gateway 接口的实现类</td></tr><tr><td>infrastructure</td><td>dataobject</td><td>存放数据库对象的DO</td></tr><tr><td>infrastructure</td><td>mapper</td><td>mapper文件</td></tr></tbody></table><p><a href=https://imgse.com/i/pPvlQaR><img alt=pPvlQaR.png loading=lazy src=https://z1.ax1x.com/2023/10/08/pPvlQaR.png></a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://lyj.cloudns.ch/tags/ddd/>DDD</a></li></ul><nav class=paginav><a class=prev href=https://lyj.cloudns.ch/post/mongodb-description/><span class=title>«</span><br><span>MongoDB的基本操作</span>
</a><a class=next href=https://lyj.cloudns.ch/post/springboot-autoconfiguration-principle/><span class=title>»</span><br><span>SpringBoot自动装配原理</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lyj.cloudns.ch/>LYJ's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>